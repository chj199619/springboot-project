/*! mbis/ 2015-07-06 13:42:01 */
var TB=TB||{};(function(){var win=window,doc=document,userAgent=navigator.userAgent.toLowerCase(),SF=window.SF={Lang:{},ua:{ie:/msie/.test(userAgent)&&!/opera/.test(userAgent),ie6:/msie 6/.test(userAgent),chrome:/chrome/i.test(userAgent)&&/webkit/i.test(userAgent)&&/mozilla/i.test(userAgent),safari:/webkit/.test(userAgent)&&/safari/.test(userAgent)&&!/chrome/.test(userAgent),opera:/opera/.test(userAgent)},bom:{pickDocumentDomain:function(){var e=arguments[1]||location.hostname,t=e.split("."),o=t.length,i=arguments[0]||(3>o?0:1);return(i>=o||2>o-i)&&(i=o-2),t.slice(i).join(".")}},Dom:{get:function(e){return"string"!=typeof e?e:doc.getElementById(e)},addCSS:function(e,t){t=t||document;var o=t.createElement("style");o.type="text/css",t.getElementsByTagName("head")[0].appendChild(o),o.styleSheet?o.styleSheet.cssText=e:o.appendChild(t.createTextNode(e))},hasClass:function(e,t){var o,i=!1;return e&&t&&(o=e.className||"",i=t.exec?t.test(o):t&&(" "+o+" ").indexOf(" "+t+" ")>-1),i},getElementsByClassName:function(e,t,o){if(!e)return[];if(e=e.trim(),t=t||"*",o=o?SF.Dom.get(o):null||document,!o)return[];for(var i=[],n=o.getElementsByTagName(t),r=SF.Dom.hasClass,s=0,a=n.length;a>s;++s)r(n[s],e)&&(i[i.length]=n[s]);return i}},Event:{on:function(){return win.addEventListener?function(e,t,o,i){e&&SF.Dom.get(e)&&SF.Dom.get(e).addEventListener(t,o,!!i)}:win.attachEvent?function(e,t,o){if(null!==e&&""!==e){var i="string"==typeof e?SF.Dom.get(e):e;i&&i.attachEvent("on"+t,o)}}:void 0}(),preventDefault:function(e){e.preventDefault?e.preventDefault():e.returnValue=!1},getTarget:function(e){var t=e.target||e.srcElement;try{if(t&&3==t.nodeType)return t.parentNode}catch(o){}return t},onReady:function(e){if(SF.ua.ie)var t=setInterval(function(){try{doc.documentElement.doScroll("left"),clearInterval(t),e()}catch(o){}},50);else window.addEventListener("load",e,!1)}}};String.prototype.trim||(String.prototype.trim=function(){var e=/^\s+|\s+$/g;return function(){return this.replace(e,"")}}()),SF.CustomEvent=function(){var e=[],t={subscribe:function(t,o,i){"function"==typeof t&&e.push({callbackFn:t,scope:o||wondow,args:i})},unsubscribe:function(t){if(e&&e.length)for(var o=0,i=e.length;i>o;o++)e[o].callbackFn===t&&e.splice(o,1)},fire:function(){if(e&&e.length)for(var t=0,o=e.length;o>t;t++)e[t].callbackFn.call(e[t].scope,{args:e[t].args,extendArgs:arguments})}};return t};var D=SF.Dom,E=SF.Event,Lang=SF.Lang,style='.dredge-pop{width:390px;padding:3px;overflow:hidden;border:1px solid #b2d1ff;position:absolute;top:0px; left:0px;visibility: hidden;box-shadow: 2px 2px 3px #aaa;-moz-box-shadow:2px 2px 3px #aaa;-webkit-box-shadow:2px 2px 3px #aaa;filter:progid:DXImageTransform.Microsoft.Shadow(color="#969696", Direction =135, Strength = 3);background-color:#e5f0ff;z-index:10000;};.dredge-pop .bd{background-color:#fff;}.dredge-pop .bd iframe{	width:390px;	height:285px;	border-width:0px;	overflow:hidden;	vertical-align:middle;}.dredge-pop .close {width: 9px;height: 9px;display: block;border-width: 0px;overflow: hidden;text-indent: -200px;cursor: pointer;position: absolute;right: 6px;top: 6px;background: url(//img.alicdn.com/tps/i6/T1QspFXfNJXXXXXXXX-9-9.png) no-repeat}.safe-masked{width:100%;position:absolute;top:0px;left:0px;visibility:hidden; background-color:#aaa;opacity:0.5;filter: alpha(opacity = 50);z-index:9999;}.masked-shim{position:absolute;top:0px;width:100%;height:100%;left:0px;filter: alpha(opacity = 0);z-index:9999;visibility:hidden;}';D.addCSS(style),TB.SecurityPop=new function(){var dialog,iframe,bd,mask,shim,close,triggerBtnCls,popCreate=function(){dialog=doc.createElement("div"),dialog.className="dredge-pop",doc.body.appendChild(dialog),bd=doc.createElement("div"),bd.className="bd",dialog.appendChild(bd),iframe=doc.createElement("iframe"),iframe.setAttribute("frameBorder","0"),bd.appendChild(iframe),close=doc.createElement("input"),close.type="button",close.className="close",dialog.appendChild(close),SF.ua.ie6&&(shim=doc.createElement("iframe"),shim.className="masked-shim",doc.body.appendChild(shim)),mask=doc.createElement("div"),mask.id="masked-pop",mask.className="safe-masked",doc.body.appendChild(mask)},onShowEvent=new SF.CustomEvent("onShow"),onHideEvent=new SF.CustomEvent("onHide"),onCheckSuccessEvent=new SF.CustomEvent("onCheckSuccess"),onCheckFailuresEvent=new SF.CustomEvent("onCheckFailure"),handle={};return handle.dialog=dialog,handle.iframe=iframe,handle.aimBtn=null,handle.show=function(e,t){e=e?e:0;var o=dialog.offsetHeight,i=doc.documentElement.clientHeight/2+doc.documentElement.scrollTop-o/2,n=dialog.offsetWidth||parseInt(dialog.style.width);i=0>i?0:i,dialog.style.top=i+"px",dialog.style.left=(doc.documentElement.clientWidth-n)/2+"px",dialog.style.visibility="visible",iframe.src=t||this.url+"#"+e;var r=(doc.documentElement.scrollHeight>=doc.documentElement.clientHeight?doc.documentElement.scrollHeight:doc.documentElement.offsetHeight)+"px";mask.style.height=r,mask.style.visibility="visible",shim&&(shim.style.visibility="visible",shim.style.width="100%",shim.style.height=r),iframe.contentWindow&&iframe.contentWindow.simpleTab?iframe.contentWindow.simpleTab.switchTab(e):E.on(iframe,"load",function(){try{iframe.contentWindow.simpleTab.switchTab(e)}catch(t){}}),onShowEvent.fire()},handle.hide=function(e){dialog.style.visibility="hidden",mask&&(mask.style.visibility="hidden",shim&&(shim.style.visibility="hidden")),e||(iframe.src="about:blank",onHideEvent.fire())},handle.render=function(e,t){triggerBtnCls=e,popCreate(e,t),this.url=t;for(var o=D.getElementsByClassName(e,"",document),i=0,n=o.length;n>i;i++)E.on(o[i],"click",function(e){E.preventDefault(e),handle.aimBtn=E.getTarget(e);var o=handle.aimBtn.getAttribute("data:showtab"),i=handle.aimBtn.getAttribute("data:iframeurl");handle.show(o,i||t)});E.on(close,"click",function(){handle.hide()},close,!0)},handle.success=function(e){onCheckSuccessEvent.fire(e||null),handle.hide(!0)},handle.failure=function(e){onCheckFailuresEvent.fire(e),handle.hide(!0)},handle.autoHeight=function(e){iframe.style.height=e+"px"},handle.on=function(eventFn,fn,scope,args){eval(eventFn+"Event").subscribe(fn,scope||this,args)},handle.unSubscribe=function(eventFn,fn){fn?eval(eventFn+"Event").unsubscribe(fn):eval(eventFn+"Event").unsubscribeAll()},handle.attach=function(e,t){this.render(e,t)},handle.hideCloseBtn=function(){close.style.display="none"},handle.showCloseBtn=function(){close.style.display=""},handle}})();